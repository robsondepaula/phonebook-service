{"version":3,"sources":["components/Filter.js","components/Form.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","filterValue","handleFilterChange","value","onChange","Form","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","name","number","onClick","handleDelete","baseUrl","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","remove","delete","notificationStyle","color","fontStyle","fontSize","errorStyle","Notification","message","isError","style","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilter","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","showNotification","setTimeout","numbersToShow","filter","person","length","toLowerCase","includes","useEffect","personService","initialPersons","catch","error","console","log","event","target","preventDefault","existingPerson","find","index","undefined","window","confirm","updatedPerson","map","status","nameObject","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.88bf2c09.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filterValue, handleFilterChange }) => {\n  return (\n    <div>\n      filter shown with: <input value={filterValue} onChange={handleFilterChange} />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst Form = (props) => {\n    return (\n        <form onSubmit={props.addPerson}>\n            <div>\n                name: <input value={props.newName} onChange={props.handleNameChange} />\n            </div>\n            <div>\n                number: <input value={props.newNumber} onChange={props.handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default Form\n","import React from 'react'\n\nconst Persons = (props) => {\n    return (\n        <div>\n            <label>\n                {props.name} {props.number}\n            </label>\n            <button onClick={props.handleDelete}>\n                delete\n        </button>\n        </div>\n    )\n}\n\nexport default Persons\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst Persons = { getAll, create, update, remove }\n\nexport default Persons","import React from 'react'\n\nconst notificationStyle = {\n    color: 'green',\n    fontStyle: 'italic',\n    fontSize: 16\n}\n\nconst errorStyle = {\n    color: 'red',\n    fontStyle: 'italic',\n    fontSize: 16\n}\n\nconst Notification = ({ message, isError }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div style={isError ? errorStyle : notificationStyle}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterValue, setNewFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const showNotification = (message, isError) => {\n    if (isError === true) {\n      setErrorMessage(message)\n    } else {\n      setNotificationMessage(message)\n    }\n    setTimeout(() => {\n      setErrorMessage(null)\n      setNotificationMessage(null)\n    }, 5000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const existingPerson = persons.find((person, index) => (person.name === newName))\n    if (existingPerson !== undefined) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const updatedPerson = { ...existingPerson, number: newNumber }\n\n        personService\n          .update(existingPerson.id, updatedPerson)\n          .then(updatedPerson => {\n            setPersons(persons.map(person => person.id !== existingPerson.id ? person : updatedPerson))\n            showNotification(`Updated '${newName}'`, false)\n          })\n          .catch(error => {\n            if (error.response && error.response.status === 404) {\n              showNotification(`Information of ${newName} has already been removed from server`, true)\n            }\n          })\n      }\n    } else {\n      const nameObject = {\n        name: newName,\n        number: newNumber\n      }\n\n      personService\n        .create(nameObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          showNotification(`Added '${returnedPerson.name}'`, false)\n        })\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const numbersToShow = persons.filter(person => {\n    if (filterValue.length <= 0) {\n      return true\n    }\n\n    return person.name.toLowerCase().includes(filterValue)\n  })\n\n  const handleDelete = (name, id) => {\n    if (window.confirm(`Delete ${name} ?`)) {\n      personService.remove(id)\n        .then(response => {\n          setPersons(persons.filter(person => {\n            return person.id !== id\n          }))\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    }\n  }\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n      .catch(error => {\n        console.log(error)\n      })\n\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage === null ? errorMessage : notificationMessage} isError={errorMessage !== null}/>\n      <Filter filterValue={filterValue} handleFilterChange={handleFilterChange} />\n      <Form addPerson={addPerson} newName={newName} handleNameChange={handleNameChange}\n        newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h3>Numbers</h3>\n      {numbersToShow.map(person =>\n        <Persons key={person.name}\n          name={person.name}\n          number={person.number}\n          handleDelete={() => handleDelete(person.name, person.id)} />\n      )}\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}